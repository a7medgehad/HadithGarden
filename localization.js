// Localization support for Hadeeth Garden Tab
class HadeethLocalization {
    constructor() {
        this.currentLanguage = 'en'; // Default to English
        this.translations = {
            'en': {
                // App Title
                'app.title': 'Hadith Garden',
                'app.subtitle': 'Daily Hadith from the Garden of the Righteous',
                
                // Loading and Error States
                'loading.text': 'Loading hadith...',
                'error.title': 'Unable to load hadith',
                'error.description': 'Please check your extension installation and try again.',
                'error.retry': 'Retry',
                
                // Hadith Display
                'hadith.book': 'Book',
                'hadith.number': 'Hadith',
                'hadith.viewOnSunnah': 'View on sunnah.com',
                'hadith.addToFavorites': 'Add to Favorites',
                'hadith.removeFromFavorites': 'Remove from Favorites',
                'hadith.settings': 'Settings',
                'hadith.nextHadith': 'Next Hadith',
                
                // Gamification
                'streak.title': 'Reading Streak',
                'streak.days': 'Days',
                'streak.today': 'Today',
                'streak.congratulations': 'Great job! Keep your streak going!',
                'progress.title': 'Daily Progress',
                'progress.complete': 'Daily Goal Complete!',
                'progress.read': 'Hadith Read Today',
                'progress.goal': 'Daily Goal',
                'achievement.title': 'Achievement Unlocked!',
                'achievement.firstDay': 'First Steps',
                'achievement.firstWeek': 'Week Warrior',
                'achievement.firstMonth': 'Monthly Master',
                'achievement.hundred': 'Century Scholar',
                'achievement.firstDay.desc': 'Read your first hadith',
                'achievement.firstWeek.desc': 'Maintain a 7-day reading streak',
                'achievement.firstMonth.desc': 'Maintain a 30-day reading streak',
                'achievement.hundred.desc': 'Read 100 hadith in total',
                
                // Settings/Options
                'options.title': 'Hadith Garden Settings',
                'options.subtitle': 'Customize your Islamic garden experience',
                'options.display': 'Display Settings',
                'options.showArabic': 'Show Arabic Text',
                'options.showEnglish': 'Show English Translation',
                'options.fontSize': 'Font Size',
                'options.theme': 'Theme Settings',
                'options.theme.light': 'Light',
                'options.theme.dark': 'Dark',
                'options.theme.auto': 'Auto',
                'options.language': 'Interface Language',
                'options.gamification': 'Gamification',
                'options.dailyGoal': 'Daily Reading Goal',
                'options.notifications': 'Notifications',
                'options.save': 'Save Settings',
                'options.export': 'Export Favorites',
                'options.import': 'Import Favorites',
                'settings.title': 'Settings',
                'settings.display': 'Display Options',
                'settings.showArabic': 'Show Arabic Text',
                'settings.showEnglish': 'Show English Text',
                'settings.fontSize': 'Font Size',
                'settings.theme': 'Theme',
                'settings.theme.light': 'Light',
                'settings.theme.dark': 'Dark',
                'settings.theme.auto': 'Auto',
                'settings.language': 'Interface Language',
                'settings.gamification': 'Gamification',
                'settings.dailyGoal': 'Daily Reading Goal',
                'settings.notifications': 'Reminders',
                'settings.save': 'Save Settings',
                'settings.export': 'Export Favorites',
                'settings.import': 'Import Favorites',
                
                // New Options Page Keys
                'options.small': 'Small',
                'options.large': 'Large', 
                'options.themeLabel': 'Theme',
                'options.readingProgress': 'Reading Progress',
                'options.currentHadith': 'Current Hadith:',
                'options.totalHadiths': 'Total Hadiths:',
                'options.progress': 'Progress:',
                'options.loading': 'Loading...',
                'options.resetProgress': 'Reset to First Hadith',
                'options.favoritesManagement': 'Favorites Management',
                'options.favoritedHadiths': 'Favorited Hadiths:',
                'options.exportFavorites': 'Export Favorites',
                'options.importFavorites': 'Import Favorites',
                'options.clearFavorites': 'Clear All Favorites',
                'options.interfaceLanguage': 'Interface Language',
                'options.chooseLanguage': 'Choose Language / ÿßÿÆÿ™ÿ± ÿßŸÑŸÑÿ∫ÿ©',
                'options.languageEnglish': 'English',
                'options.languageArabic': 'Arabic',
                'options.saveSettings': 'Save Settings',
                'options.attribution': 'Hadith content from <a href="https://sunnah.com/riyadussalihin" target="_blank">sunnah.com</a> ‚Äì used for personal educational purposes.',
                'options.version': 'Hadeeth Garden Tab v1.0.2',
                
                // Additional UI elements
                'ui.achievements': 'Achievements',
                'ui.daily_goal': 'Daily Goal',
                'ui.hadith_goal': 'hadith',
                
                // Favorites
                'favorites.view': 'View Favorites',
                'favorites.title': 'My Favorite Hadith',
                'favorites.empty': 'You haven\'t saved any favorites yet.',
                'favorites.close': 'Close',
                'favorites.remove': 'Remove',
                'favorites.goto': 'Go to',
                
                // Buttons
                'button.next': 'Next',
                'button.previous': 'Previous',
                
                // Collections
                'collections.title': 'Hadith Collections',
                'collections.riyadussalihin': 'RiyƒÅ·∏ç al-·π¢ƒÅli·∏•ƒ´n',
                'collections.bukhari': 'Sahih al-Bukhari',
                'collections.muslim': 'Sahih Muslim',
                'collections.tirmidhi': 'Jami\' at-Tirmidhi',
                'collections.abudawud': 'Sunan Abu Dawud',
                'collections.nasai': 'Sunan an-Nasa\'i',
                'collections.majah': 'Sunan Ibn Majah',
                'collections.current': 'Current Collection',
                'collections.available': 'Available Collections',
                'collections.comingSoon': 'Coming Soon',
                
                // Search
                'search.title': 'Search Hadith',
                'search.placeholder': 'Search in Arabic or English text...',
                'search.all': 'All Languages',
                'search.arabic': 'Arabic Only',
                'search.english': 'English Only',
                'search.noResults': 'No hadith found matching your search.',
                
                // Notifications
                'notifications.enable': 'Enable Daily Notifications',
                'notifications.time': 'Notification Time',
                'notifications.test': 'Test Notification',
                'notifications.daily_title': 'üåø Daily Hadith from RiyƒÅ·∏ç al-·π¢ƒÅli·∏•ƒ´n',
                'notifications.daily_message': 'Your daily hadith is ready for reading',
                'notifications.read_now': 'Read Now',
                'notifications.remind_later': 'Remind Later',
                'notifications.streak_bonus': 'üî• Keep your reading streak alive!',
                'notifications.permission_needed': 'Please enable notifications in your browser settings',
                'notifications.test_sent': 'Test notification sent!',
                'notifications.description': 'Get reminded to read your daily hadith at your preferred time',
                
                // Error and Success Messages
                'messages.error.loadSettings': 'Failed to load settings. Please try again.',
                'messages.error.saveSettings': 'Failed to save settings. Please try again.',
                'messages.error.resetProgress': 'Failed to reset progress. Please try again.',
                'messages.error.exportFavorites': 'Failed to export favorites. Please try again.',
                'messages.error.importFavorites': 'Failed to import favorites. Please check the file format.',
                'messages.error.clearFavorites': 'Failed to clear favorites. Please try again.',
                'messages.error.languageRequired': 'At least one language must be enabled.',
                'messages.error.invalidFile': 'Invalid favorites file format',
                'messages.error.noValidFavorites': 'No valid favorites found in the imported file.',
                
                'messages.success.settingsSaved': 'Settings saved successfully!',
                'messages.success.progressReset': 'Reading progress reset to the first hadith.',
                'messages.success.favoritesExported': 'favorites exported successfully!',
                'messages.success.favoritesImported': 'favorites imported successfully!',
                'messages.success.favoritesCleared': 'All favorites cleared successfully.',
                
                'messages.info.noFavoritesToExport': 'No favorites to export.',
                'messages.info.noFavoritesToClear': 'No favorites to clear.',
                
                'messages.confirm.resetProgress': 'Are you sure you want to reset reading progress to the first hadith?',
                'messages.confirm.importFavorites': 'Import {count} favorites? This will replace your current favorites.',
                'messages.confirm.clearFavorites': 'Are you sure you want to clear all {count} favorites? This cannot be undone.'
            },
            'ar': {
                // App Title
                'app.title': 'ÿ≠ÿØŸäŸÇÿ© ÿßŸÑÿ£ÿ≠ÿßÿØŸäÿ´',
                'app.subtitle': 'ÿ£ÿ≠ÿßÿØŸäÿ´ ŸäŸàŸÖŸäÿ© ŸÖŸÜ ÿ±Ÿäÿßÿ∂ ÿßŸÑÿµÿßŸÑÿ≠ŸäŸÜ',
                
                // Loading and Error States
                'loading.text': 'ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ≠ÿØŸäÿ´...',
                'error.title': 'ŸÑÿß ŸäŸÖŸÉŸÜ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ≠ÿØŸäÿ´',
                'error.description': 'Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿ™ÿ´ÿ®Ÿäÿ™ ÿßŸÑÿßŸÖÿ™ÿØÿßÿØ ŸàÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ.',
                'error.retry': 'ÿ•ÿπÿßÿØÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ©',
                
                // Hadith Display
                'hadith.book': 'ÿßŸÑŸÉÿ™ÿßÿ®',
                'hadith.number': 'ÿßŸÑÿ≠ÿØŸäÿ´ ÿ±ŸÇŸÖ',
                'hadith.viewOnSunnah': 'ÿπÿ±ÿ∂ ÿπŸÑŸâ ŸÖŸàŸÇÿπ ÿßŸÑÿ≥ŸÜÿ©',
                'hadith.addToFavorites': 'ÿ•ÿ∂ÿßŸÅÿ© ÿ•ŸÑŸâ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©',
                'hadith.removeFromFavorites': 'ÿ•ÿ≤ÿßŸÑÿ© ŸÖŸÜ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©',
                'hadith.settings': 'ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™',
                'hadith.nextHadith': 'ÿßŸÑÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ÿßŸÑŸä',
                
                // Gamification
                'streak.title': 'ÿ£ŸäÿßŸÖ ÿßŸÑŸÇÿ±ÿßÿ°ÿ© ÿßŸÑŸÖÿ™ŸàÿßÿµŸÑÿ©',
                'streak.days': 'ÿ£ŸäÿßŸÖ',
                'streak.today': 'ÿßŸÑŸäŸàŸÖ',
                'streak.congratulations': 'ÿ£ÿ≠ÿ≥ŸÜÿ™! ÿßÿ≥ÿ™ŸÖÿ± ŸÅŸä ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑŸÇÿ±ÿßÿ°ÿ©!',
                'progress.title': 'ÿßŸÑÿ™ŸÇÿØŸÖ ÿßŸÑŸäŸàŸÖŸä',
                'progress.complete': 'ÿ™ŸÖ ÿ•ŸÜÿ¨ÿßÿ≤ ÿßŸÑŸáÿØŸÅ ÿßŸÑŸäŸàŸÖŸä!',
                'progress.read': 'ÿ£ÿ≠ÿßÿØŸäÿ´ ŸÇŸèÿ±ÿ¶ÿ™ ÿßŸÑŸäŸàŸÖ',
                'progress.goal': 'ÿßŸÑŸáÿØŸÅ ÿßŸÑŸäŸàŸÖŸä',
                'achievement.title': 'ÿ™ŸÖ ŸÅÿ™ÿ≠ ÿ•ŸÜÿ¨ÿßÿ≤!',
                'achievement.firstDay': 'ÿ®ÿØÿßŸäÿ© ŸÖÿ®ÿßÿ±ŸÉÿ©',
                'achievement.firstWeek': 'ŸÖŸàÿßÿ∏ÿ® ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ',
                'achievement.firstMonth': 'ŸÜÿ¨ŸÖ ÿßŸÑÿ¥Ÿáÿ±',
                'achievement.hundred': 'ÿ∑ÿßŸÑÿ® ÿπŸÑŸÖ ŸÖÿ¨ÿ™ŸáÿØ',
                'achievement.firstDay.desc': 'ŸÇÿ±ÿßÿ°ÿ© ÿ£ŸàŸÑ ÿ≠ÿØŸäÿ´ ŸÑŸÉ',
                'achievement.firstWeek.desc': 'ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿ© ÿπŸÑŸâ ÿßŸÑŸÇÿ±ÿßÿ°ÿ© ŸÑŸÖÿØÿ© 7 ÿ£ŸäÿßŸÖ ŸÖÿ™ŸàÿßÿµŸÑÿ©',
                'achievement.firstMonth.desc': 'ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿ© ÿπŸÑŸâ ÿßŸÑŸÇÿ±ÿßÿ°ÿ© ŸÑŸÖÿØÿ© 30 ŸäŸàŸÖÿßŸã ŸÖÿ™ŸàÿßÿµŸÑÿßŸã',
                'achievement.hundred.desc': 'ŸÇÿ±ÿßÿ°ÿ© 100 ÿ≠ÿØŸäÿ´ ÿ•ÿ¨ŸÖÿßŸÑÿßŸã',
                
                // Settings/Options Arabic
                'options.title': 'ÿ•ÿπÿØÿßÿØÿßÿ™ ÿ≠ÿØŸäŸÇÿ© ÿßŸÑÿ£ÿ≠ÿßÿØŸäÿ´',
                'options.subtitle': 'ÿßÿ∂ÿ®ÿ∑ ÿ™ÿ¨ÿ±ÿ®ÿ© ÿ≠ÿØŸäŸÇÿ™ŸÉ ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖŸäÿ©',
                'options.display': 'ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿπÿ±ÿ∂',
                'options.showArabic': 'ÿπÿ±ÿ∂ ÿßŸÑŸÜÿµ ÿßŸÑÿπÿ±ÿ®Ÿä',
                'options.showEnglish': 'ÿπÿ±ÿ∂ ÿßŸÑÿ™ÿ±ÿ¨ŸÖÿ© ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©',
                'options.fontSize': 'ÿ≠ÿ¨ŸÖ ÿßŸÑÿÆÿ∑',
                'options.theme': 'ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸÖÿ∏Ÿáÿ±',
                'options.theme.light': 'ŸÅÿßÿ™ÿ≠',
                'options.theme.dark': 'ÿØÿßŸÉŸÜ',
                'options.theme.auto': 'ÿ™ŸÑŸÇÿßÿ¶Ÿä',
                'options.language': 'ŸÑÿ∫ÿ© ÿßŸÑŸàÿßÿ¨Ÿáÿ©',
                'options.gamification': 'ÿßŸÑÿ™ÿ≠ŸÅŸäÿ≤ ÿßŸÑÿ™ŸÅÿßÿπŸÑŸä',
                'options.dailyGoal': 'ŸáÿØŸÅ ÿßŸÑŸÇÿ±ÿßÿ°ÿ© ÿßŸÑŸäŸàŸÖŸä',
                'options.notifications': 'ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™',
                'options.save': 'ÿ≠ŸÅÿ∏ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™',
                'options.export': 'ÿ™ÿµÿØŸäÿ± ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©',
                'options.import': 'ÿßÿ≥ÿ™Ÿäÿ±ÿßÿØ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©',
                'settings.title': 'ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™',
                'settings.display': 'ÿÆŸäÿßÿ±ÿßÿ™ ÿßŸÑÿπÿ±ÿ∂',
                'settings.showArabic': 'ÿπÿ±ÿ∂ ÿßŸÑŸÜÿµ ÿßŸÑÿπÿ±ÿ®Ÿä',
                'settings.showEnglish': 'ÿπÿ±ÿ∂ ÿßŸÑŸÜÿµ ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿä',
                'settings.fontSize': 'ÿ≠ÿ¨ŸÖ ÿßŸÑÿÆÿ∑',
                'settings.theme': 'ÿßŸÑŸÖÿ∏Ÿáÿ±',
                'settings.theme.light': 'ŸÅÿßÿ™ÿ≠',
                'settings.theme.dark': 'ÿØÿßŸÉŸÜ',
                'settings.theme.auto': 'ÿ™ŸÑŸÇÿßÿ¶Ÿä',
                'settings.language': 'ŸÑÿ∫ÿ© ÿßŸÑŸàÿßÿ¨Ÿáÿ©',
                'settings.gamification': 'ÿßŸÑÿ™ÿ≠ŸÅŸäÿ≤ ÿßŸÑÿ™ŸÅÿßÿπŸÑŸä',
                'settings.dailyGoal': 'ŸáÿØŸÅ ÿßŸÑŸÇÿ±ÿßÿ°ÿ© ÿßŸÑŸäŸàŸÖŸä',
                'settings.notifications': 'ÿßŸÑÿ™ÿ∞ŸÉŸäÿ±ÿßÿ™',
                'settings.save': 'ÿ≠ŸÅÿ∏ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™',
                'settings.export': 'ÿ™ÿµÿØŸäÿ± ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©',
                'settings.import': 'ÿßÿ≥ÿ™Ÿäÿ±ÿßÿØ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©',
                
                // New Options Page Keys Arabic
                'options.small': 'ÿµÿ∫Ÿäÿ±',
                'options.large': 'ŸÉÿ®Ÿäÿ±',
                'options.themeLabel': 'ÿßŸÑŸÖÿ∏Ÿáÿ±',
                'options.readingProgress': 'ÿ™ŸÇÿØŸÖ ÿßŸÑŸÇÿ±ÿßÿ°ÿ©',
                'options.currentHadith': 'ÿßŸÑÿ≠ÿØŸäÿ´ ÿßŸÑÿ≠ÿßŸÑŸä:',
                'options.totalHadiths': 'ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ£ÿ≠ÿßÿØŸäÿ´:',
                'options.progress': 'ÿßŸÑÿ™ŸÇÿØŸÖ:',
                'options.loading': 'ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ...',
                'options.resetProgress': 'ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿ•ŸÑŸâ ÿ£ŸàŸÑ ÿ≠ÿØŸäÿ´',
                'options.favoritesManagement': 'ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©',
                'options.favoritedHadiths': 'ÿßŸÑÿ£ÿ≠ÿßÿØŸäÿ´ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©:',
                'options.exportFavorites': 'ÿ™ÿµÿØŸäÿ± ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©',
                'options.importFavorites': 'ÿßÿ≥ÿ™Ÿäÿ±ÿßÿØ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©',
                'options.clearFavorites': 'ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©',
                'options.interfaceLanguage': 'ŸÑÿ∫ÿ© ÿßŸÑŸàÿßÿ¨Ÿáÿ©',
                'options.chooseLanguage': 'ÿßÿÆÿ™ÿ± ÿßŸÑŸÑÿ∫ÿ© / Choose Language',
                'options.languageEnglish': 'ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©',
                'options.languageArabic': 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©',
                'options.saveSettings': 'ÿ≠ŸÅÿ∏ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™',
                'options.attribution': 'ŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑÿ£ÿ≠ÿßÿØŸäÿ´ ŸÖŸÜ <a href="https://sunnah.com/riyadussalihin" target="_blank">sunnah.com</a> ‚Äì ŸÑŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑÿ™ÿπŸÑŸäŸÖŸä ÿßŸÑÿ¥ÿÆÿµŸä.',
                'options.version': 'ÿ™ÿ®ŸàŸäÿ®ÿ© ÿ≠ÿØŸäŸÇÿ© ÿßŸÑÿ£ÿ≠ÿßÿØŸäÿ´ v1.0.2',
                
                // Additional UI elements
                'ui.achievements': 'ÿßŸÑÿ•ŸÜÿ¨ÿßÿ≤ÿßÿ™',
                'ui.daily_goal': 'ÿßŸÑŸáÿØŸÅ ÿßŸÑŸäŸàŸÖŸä',
                'ui.hadith_goal': 'ÿ£ÿ≠ÿßÿØŸäÿ´',
                
                // Favorites
                'favorites.view': 'ÿπÿ±ÿ∂ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©',
                'favorites.title': 'ÿ£ÿ≠ÿßÿØŸäÿ´Ÿä ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©',
                'favorites.empty': 'ŸÑŸÖ ÿ™ŸÇŸÖ ÿ®ÿ≠ŸÅÿ∏ ÿ£Ÿä ÿ£ÿ≠ÿßÿØŸäÿ´ ŸÅŸä ÿßŸÑŸÖŸÅÿ∂ŸÑÿ© ÿ®ÿπÿØ.',
                'favorites.close': 'ÿ•ÿ∫ŸÑÿßŸÇ',
                'favorites.remove': 'ÿ•ÿ≤ÿßŸÑÿ©',
                'favorites.goto': 'ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ ÿ•ŸÑŸâ',
                
                // Buttons Arabic
                'button.next': 'ÿßŸÑÿ™ÿßŸÑŸä',
                'button.previous': 'ÿßŸÑÿ≥ÿßÿ®ŸÇ',
                
                // Collections Arabic
                'collections.title': 'ŸÖÿ¨ŸÖŸàÿπÿßÿ™ ÿßŸÑÿ£ÿ≠ÿßÿØŸäÿ´',
                'collections.riyadussalihin': 'ÿ±Ÿäÿßÿ∂ ÿßŸÑÿµÿßŸÑÿ≠ŸäŸÜ',
                'collections.bukhari': 'ÿµÿ≠Ÿäÿ≠ ÿßŸÑÿ®ÿÆÿßÿ±Ÿä',
                'collections.muslim': 'ÿµÿ≠Ÿäÿ≠ ŸÖÿ≥ŸÑŸÖ',
                'collections.tirmidhi': 'ÿ¨ÿßŸÖÿπ ÿßŸÑÿ™ÿ±ŸÖÿ∞Ÿä',
                'collections.abudawud': 'ÿ≥ŸÜŸÜ ÿ£ÿ®Ÿä ÿØÿßŸàÿØ',
                'collections.nasai': 'ÿ≥ŸÜŸÜ ÿßŸÑŸÜÿ≥ÿßÿ¶Ÿä',
                'collections.majah': 'ÿ≥ŸÜŸÜ ÿßÿ®ŸÜ ŸÖÿßÿ¨Ÿá',
                'collections.current': 'ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ≠ÿßŸÑŸäÿ©',
                'collections.available': 'ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿßÿ™ ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©',
                'collections.comingSoon': 'ŸÇÿ±Ÿäÿ®ÿßŸã',
                
                // Search Arabic
                'search.title': 'ÿßŸÑÿ®ÿ≠ÿ´ ŸÅŸä ÿßŸÑÿ£ÿ≠ÿßÿØŸäÿ´',
                'search.placeholder': 'ÿßÿ®ÿ≠ÿ´ ŸÅŸä ÿßŸÑŸÜÿµ ÿßŸÑÿπÿ±ÿ®Ÿä ÿ£Ÿà ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿä...',
                'search.all': 'ÿ¨ŸÖŸäÿπ ÿßŸÑŸÑÿ∫ÿßÿ™',
                'search.arabic': 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ŸÅŸÇÿ∑',
                'search.english': 'ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ© ŸÅŸÇÿ∑',
                'search.noResults': 'ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ£ÿ≠ÿßÿØŸäÿ´ ÿ™ÿ∑ÿßÿ®ŸÇ ÿßŸÑÿ®ÿ≠ÿ´.',
                
                // Notifications
                'notifications.enable': 'ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ™ÿ∞ŸÉŸäÿ±ÿßÿ™ ÿßŸÑŸäŸàŸÖŸäÿ©',
                'notifications.time': 'ŸàŸÇÿ™ ÿßŸÑÿ™ÿ∞ŸÉŸäÿ±',
                'notifications.test': 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ™ÿ∞ŸÉŸäÿ±',
                'notifications.daily_title': 'üåø ÿ≠ÿØŸäÿ´ ÿßŸÑŸäŸàŸÖ ŸÖŸÜ ÿ±Ÿäÿßÿ∂ ÿßŸÑÿµÿßŸÑÿ≠ŸäŸÜ',
                'notifications.daily_message': 'ÿ≠ÿØŸäÿ´ ÿßŸÑŸäŸàŸÖ ÿ¨ÿßŸáÿ≤ ŸÑŸÑŸÇÿ±ÿßÿ°ÿ©',
                'notifications.read_now': 'ÿßŸÇÿ±ÿ£ ÿßŸÑÿ¢ŸÜ',
                'notifications.remind_later': 'ÿ∞ŸÉŸëÿ±ŸÜŸä ŸÑÿßÿ≠ŸÇÿßŸã',
                'notifications.streak_bonus': 'üî• ÿ≠ÿßŸÅÿ∏ ÿπŸÑŸâ ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑŸÇÿ±ÿßÿ°ÿ©!',
                'notifications.permission_needed': 'Ÿäÿ±ÿ¨Ÿâ ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ŸÅŸä ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸÖÿ™ÿµŸÅÿ≠',
                'notifications.test_sent': 'ÿ™ŸÖ ÿ•ÿ±ÿ≥ÿßŸÑ ÿ™ÿ∞ŸÉŸäÿ± ÿ™ÿ¨ÿ±Ÿäÿ®Ÿä!',
                'notifications.description': 'ÿßÿ≠ÿµŸÑ ÿπŸÑŸâ ÿ™ÿ∞ŸÉŸäÿ± ŸÑŸÇÿ±ÿßÿ°ÿ© ÿ≠ÿØŸäÿ´ ÿßŸÑŸäŸàŸÖ ŸÅŸä ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖŸÅÿ∂ŸÑ ŸÑÿØŸäŸÉ',
                
                // Error and Success Messages Arabic
                'messages.error.loadSettings': 'ŸÅÿ¥ŸÑ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™. Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ.',
                'messages.error.saveSettings': 'ŸÅÿ¥ŸÑ ŸÅŸä ÿ≠ŸÅÿ∏ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™. Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ.',
                'messages.error.resetProgress': 'ŸÅÿ¥ŸÑ ŸÅŸä ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿßŸÑÿ™ŸÇÿØŸÖ. Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ.',
                'messages.error.exportFavorites': 'ŸÅÿ¥ŸÑ ŸÅŸä ÿ™ÿµÿØŸäÿ± ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©. Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ.',
                'messages.error.importFavorites': 'ŸÅÿ¥ŸÑ ŸÅŸä ÿßÿ≥ÿ™Ÿäÿ±ÿßÿØ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©. Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿ™ŸÜÿ≥ŸäŸÇ ÿßŸÑŸÖŸÑŸÅ.',
                'messages.error.clearFavorites': 'ŸÅÿ¥ŸÑ ŸÅŸä ŸÖÿ≥ÿ≠ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©. Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ.',
                'messages.error.languageRequired': 'Ÿäÿ¨ÿ® ÿ™ŸÅÿπŸäŸÑ ŸÑÿ∫ÿ© Ÿàÿßÿ≠ÿØÿ© ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ.',
                'messages.error.invalidFile': 'ÿ™ŸÜÿ≥ŸäŸÇ ŸÖŸÑŸÅ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ© ÿ∫Ÿäÿ± ÿµÿßŸÑÿ≠',
                'messages.error.noValidFavorites': 'ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ŸÖŸÅÿ∂ŸÑÿ© ÿµÿßŸÑÿ≠ÿ© ŸÅŸä ÿßŸÑŸÖŸÑŸÅ ÿßŸÑŸÖÿ≥ÿ™Ÿàÿ±ÿØ.',
                
                'messages.success.settingsSaved': 'ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™ ÿ®ŸÜÿ¨ÿßÿ≠!',
                'messages.success.progressReset': 'ÿ™ŸÖ ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿ™ŸÇÿØŸÖ ÿßŸÑŸÇÿ±ÿßÿ°ÿ© ÿ•ŸÑŸâ ÿ£ŸàŸÑ ÿ≠ÿØŸäÿ´.',
                'messages.success.favoritesExported': 'ÿ™ŸÖ ÿ™ÿµÿØŸäÿ± ÿßŸÑŸÖŸÅÿ∂ŸÑÿ© ÿ®ŸÜÿ¨ÿßÿ≠!',
                'messages.success.favoritesImported': 'ÿ™ŸÖ ÿßÿ≥ÿ™Ÿäÿ±ÿßÿØ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ© ÿ®ŸÜÿ¨ÿßÿ≠!',
                'messages.success.favoritesCleared': 'ÿ™ŸÖ ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ© ÿ®ŸÜÿ¨ÿßÿ≠.',
                
                'messages.info.noFavoritesToExport': 'ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖŸÅÿ∂ŸÑÿ© ŸÑŸÑÿ™ÿµÿØŸäÿ±.',
                'messages.info.noFavoritesToClear': 'ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖŸÅÿ∂ŸÑÿ© ŸÑŸÑŸÖÿ≥ÿ≠.',
                
                'messages.confirm.resetProgress': 'ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿ™ŸÇÿØŸÖ ÿßŸÑŸÇÿ±ÿßÿ°ÿ© ÿ•ŸÑŸâ ÿ£ŸàŸÑ ÿ≠ÿØŸäÿ´ÿü',
                'messages.confirm.importFavorites': 'ÿßÿ≥ÿ™Ÿäÿ±ÿßÿØ {count} ŸÖŸÅÿ∂ŸÑÿ©ÿü ÿ≥Ÿäÿ§ÿØŸä Ÿáÿ∞ÿß ÿ•ŸÑŸâ ÿßÿ≥ÿ™ÿ®ÿØÿßŸÑ ŸÖŸÅÿ∂ŸÑÿ™ŸÉ ÿßŸÑÿ≠ÿßŸÑŸäÿ©.',
                'messages.confirm.clearFavorites': 'ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÄ {count} ŸÖŸÅÿ∂ŸÑÿ©ÿü ŸÑÿß ŸäŸÖŸÉŸÜ ÿßŸÑÿ™ÿ±ÿßÿ¨ÿπ ÿπŸÜ Ÿáÿ∞ÿß ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°.'
            }
        };
    }
    
    setLanguage(language) {
        this.currentLanguage = language;
        this.updateDocumentDirection();
        this.updateAllTranslations();
    }
    
    updateDocumentDirection() {
        const isRTL = this.currentLanguage === 'ar';
        document.documentElement.dir = isRTL ? 'rtl' : 'ltr';
        document.documentElement.lang = this.currentLanguage;
    }
    
    t(key, fallback = null, replacements = {}) {
        let translation = this.translations[this.currentLanguage]?.[key] || 
                         this.translations['en']?.[key] || 
                         fallback || 
                         key;
        
        // Handle placeholder replacements like {count}, {name}, etc.
        for (const [placeholder, value] of Object.entries(replacements)) {
            translation = translation.replace(`{${placeholder}}`, value);
        }
        
        return translation;
    }
    
    updateAllTranslations() {
        // Update all elements with data-i18n attribute
        const elements = document.querySelectorAll('[data-i18n]');
        elements.forEach(element => {
            const key = element.getAttribute('data-i18n');
            element.textContent = this.t(key);
        });
        
        // Update placeholders
        const placeholderElements = document.querySelectorAll('[data-i18n-placeholder]');
        placeholderElements.forEach(element => {
            const key = element.getAttribute('data-i18n-placeholder');
            element.placeholder = this.t(key);
        });
        
        // Update titles
        const titleElements = document.querySelectorAll('[data-i18n-title]');
        titleElements.forEach(element => {
            const key = element.getAttribute('data-i18n-title');
            element.title = this.t(key);
        });
        
        // Trigger custom event for language change
        window.dispatchEvent(new CustomEvent('languageChanged', { 
            detail: { language: this.currentLanguage }
        }));
    }
    
    formatNumber(number) {
        // Always use Western Arabic numerals (1,2,3) even for Arabic interface
        return number.toString();
    }
    
    formatDate(date) {
        if (this.currentLanguage === 'ar') {
            return new Intl.DateTimeFormat('ar-SA', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            }).format(date);
        }
        return new Intl.DateTimeFormat('en-US', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        }).format(date);
    }

    // Arabic chapter name mappings for authentic display
    getArabicChapterName(englishChapter) {
        const chapterMap = {
            'The Book of Good Manners': 'ŸÉÿ™ÿßÿ® ÿßŸÑÿ£ÿØÿ®',
            'The Book About the Etiquette of Eating': 'ŸÉÿ™ÿßÿ® ÿ¢ÿØÿßÿ® ÿßŸÑÿ∑ÿπÿßŸÖ',
            'The Book of Dress': 'ŸÉÿ™ÿßÿ® ÿßŸÑŸÑÿ®ÿßÿ≥',
            'The Book of Du\'a (Supplications)': 'ŸÉÿ™ÿßÿ® ÿßŸÑÿØÿπŸàÿßÿ™',
            'The Book of Etiquette of Traveling': 'ŸÉÿ™ÿßÿ® ÿ¢ÿØÿßÿ® ÿßŸÑÿ≥ŸÅÿ±',
            'The Book of Forgiveness': 'ŸÉÿ™ÿßÿ® ÿßŸÑÿßÿ≥ÿ™ÿ∫ŸÅÿßÿ±',
            'The Book of Greetings': 'ŸÉÿ™ÿßÿ® ÿßŸÑÿ≥ŸÑÿßŸÖ',
            'The Book of Hajj': 'ŸÉÿ™ÿßÿ® ÿßŸÑÿ≠ÿ¨',
            'The Book of I\'tikaf': 'ŸÉÿ™ÿßÿ® ÿßŸÑÿßÿπÿ™ŸÉÿßŸÅ',
            'The Book of Jihad': 'ŸÉÿ™ÿßÿ® ÿßŸÑÿ¨ŸáÿßÿØ',
            'The Book of Knowledge': 'ŸÉÿ™ÿßÿ® ÿßŸÑÿπŸÑŸÖ',
            'The Book of Miscellaneous ahadith of Significant Values': 'ŸÉÿ™ÿßÿ® ÿßŸÑŸÖŸÜÿ´Ÿàÿ±ÿßÿ™ ŸàÿßŸÑŸÖŸÑÿ≠',
            'The Book of Miscellany': 'ŸÉÿ™ÿßÿ® ÿßŸÑŸÖŸÇÿØŸÖÿßÿ™',
            'The Book of Praise and Gratitude to Allah': 'ŸÉÿ™ÿßÿ® ÿßŸÑÿ≠ŸÖÿØ ŸàÿßŸÑÿ¥ŸÉÿ± ŸÑŸÑŸá ÿ™ÿπÿßŸÑŸâ',
            'The Book of Supplicating Allah to Exalt the Mention of Allah\'s Messenger': 'ŸÉÿ™ÿßÿ® ÿßŸÑÿµŸÑÿßÿ© ÿπŸÑŸâ ÿ±ÿ≥ŸàŸÑ ÿßŸÑŸÑŸá ÿµŸÑŸâ ÿßŸÑŸÑŸá ÿπŸÑŸäŸá Ÿàÿ≥ŸÑŸÖ',
            'The Book of the Etiquette of Sleeping, Lying and Sitting etc': 'ŸÉÿ™ÿßÿ® ÿ¢ÿØÿßÿ® ÿßŸÑŸÜŸàŸÖ ŸàÿßŸÑÿßÿ∂ÿ∑ÿ¨ÿßÿπ ŸàÿßŸÑÿ¨ŸÑŸàÿ≥',
            'The Book of the Prohibited actions': 'ŸÉÿ™ÿßÿ® ÿßŸÑŸÖŸÜŸáŸäÿßÿ™',
            'The Book of the Remembrance of Allah': 'ŸÉÿ™ÿßÿ® ÿßŸÑÿ£ÿ∞ŸÉÿßÿ±',
            'The Book of Virtues': 'ŸÉÿ™ÿßÿ® ÿßŸÑŸÅÿ∂ÿßÿ¶ŸÑ',
            'The Book of Visiting the Sick': 'ŸÉÿ™ÿßÿ® ÿπŸäÿßÿØÿ© ÿßŸÑŸÖÿ±Ÿäÿ∂ Ÿàÿßÿ™ÿ®ÿßÿπ ÿßŸÑÿ¨ŸÜÿßÿ¶ÿ≤'
        };
        
        return chapterMap[englishChapter] || englishChapter;
    }
}

// Export for use in other modules
window.HadeethLocalization = HadeethLocalization;