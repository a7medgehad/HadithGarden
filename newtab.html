<!doctype html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title data-i18n="app.title">üåø Hadith Garden ‚Äì RiyƒÅ·∏ç al-·π¢ƒÅli·∏•ƒ´n</title>
        <link rel="stylesheet" href="newtab.css" />

        <!-- Feather icons CSS is embedded in main CSS file -->
    </head>
    <body>
        <div class="container">
            <header class="header">
                <div class="logo-title-section">
                    <img
                        src="icons/logo.svg"
                        alt="Hadeeth Garden Logo"
                        class="header-logo"
                    />
                    <div class="title-group">
                        <h1 class="title" data-i18n="app.title">
                            Hadith Garden
                        </h1>
                        <p class="subtitle" data-i18n="app.subtitle">
                            Daily Hadith from the Garden of the Righteous
                        </p>
                    </div>
                </div>
                <div class="header-controls">
                    <select
                        id="languageSelect"
                        class="language-select"
                        title="Language / ÿßŸÑŸÑÿ∫ÿ©"
                    >
                        <option value="en">English</option>
                        <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                    </select>
                    <div class="daily-goal-controls">
                        <label
                            for="dailyGoalInput"
                            class="goal-label"
                            data-i18n="ui.daily_goal"
                            >Daily Goal</label
                        >
                        <input
                            type="number"
                            id="dailyGoalInput"
                            min="1"
                            max="20"
                            value="5"
                            class="goal-input"
                        />
                        <span
                            class="goal-label-suffix"
                            data-i18n="ui.hadith_goal"
                            >hadith</span
                        >
                    </div>
                    <button
                        id="nextHadithBtn"
                        class="next-btn"
                        data-i18n-title="hadith.nextHadith"
                    >
                        <i data-feather="chevron-right"></i>
                    </button>
                </div>
            </header>

            <main class="main-content">
                <div id="loadingState" class="loading-state">
                    <div class="loading-spinner"></div>
                    <p data-i18n="loading.text">Loading hadith...</p>
                </div>

                <div id="errorState" class="error-state" style="display: none">
                    <div class="error-icon">‚ö†Ô∏è</div>
                    <h3 data-i18n="error.title">Unable to load hadith</h3>
                    <p data-i18n="error.description">
                        Please check your extension installation and try again.
                    </p>
                    <button
                        id="retryBtn"
                        class="retry-btn"
                        data-i18n="error.retry"
                    >
                        Retry
                    </button>
                </div>

                <article
                    id="hadithCard"
                    class="hadith-card"
                    style="display: none"
                >
                    <div class="hadith-meta">
                        <span id="bookChip" class="chip" data-i18n="hadith.book"
                            >Book</span
                        >
                        <span
                            id="numberChip"
                            class="chip"
                            data-i18n="hadith.number"
                            >Hadith</span
                        >
                    </div>

                    <div
                        id="arabicText"
                        class="arabic-text"
                        lang="ar"
                        dir="rtl"
                    >
                        <!-- Arabic hadith text will be loaded here -->
                    </div>

                    <div id="englishText" class="english-text" lang="en">
                        <!-- English hadith text will be loaded here -->
                    </div>
                </article>
            </main>

            <footer class="footer">
                <div class="toolbar">
                    <button
                        id="viewOnSunnahBtn"
                        class="toolbar-btn"
                        data-i18n-title="hadith.viewOnSunnah"
                    >
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
                        </svg>
                        <span data-i18n="hadith.viewOnSunnah"
                            >View on sunnah.com</span
                        >
                    </button>

                    <button
                        id="addToFavoritesBtn"
                        class="toolbar-btn"
                        data-i18n-title="hadith.addToFavorites"
                    >
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="star-icon">
                            <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"></polygon>
                        </svg>
                        <span data-i18n="hadith.addToFavorites"
                            >Add to Favorites</span
                        >
                    </button>

                    <button
                        id="collectionsBtn"
                        class="toolbar-btn"
                        data-i18n-title="collections.title"
                    >
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14,2 14,8 20,8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10,9 9,9 8,9"></polyline>
                        </svg>
                        <span data-i18n="collections.title">Collections</span>
                    </button>

                    <button
                        id="searchBtn"
                        class="toolbar-btn"
                        data-i18n-title="search.title"
                    >
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                        <span data-i18n="search.title">Search</span>
                    </button>

                    <button
                        id="prevBtn"
                        class="toolbar-btn"
                        data-i18n-title="button.previous"
                    >
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="15,18 9,12 15,6"></polyline>
                        </svg>
                        <span data-i18n="button.previous">Previous</span>
                    </button>

                    <button
                        id="nextBtn"
                        class="toolbar-btn"
                        data-i18n-title="button.next"
                    >
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="9,18 15,12 9,6"></polyline>
                        </svg>
                        <span data-i18n="button.next">Next</span>
                    </button>

                    <button
                        id="favoritesBtn"
                        class="toolbar-btn"
                        data-i18n-title="favorites.view"
                    >
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                        </svg>
                        <span data-i18n="favorites.view">View Favorites</span>
                    </button>

                    <button
                        id="settingsBtn"
                        class="toolbar-btn"
                        data-i18n-title="hadith.settings"
                    >
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                        </svg>
                        <span data-i18n="hadith.settings">Settings</span>
                    </button>
                </div>
            </footer>

            <!-- Progress/Gamification Section moved to bottom -->
            <div id="progressSection" class="progress-section">
                <!-- This will be populated by gamification system -->
            </div>
        </div>

        <!-- Collections Modal -->
        <div id="collectionsModal" class="modal" style="display: none">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 data-i18n="collections.title">Hadith Collections</h3>
                    <button class="modal-close" data-i18n-title="modal.close">
                        <i data-feather="x"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="collections-grid">
                        <!-- Collections will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Search Modal -->
        <div id="searchModal" class="modal" style="display: none">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 data-i18n="search.title">Search Hadith</h3>
                    <button class="modal-close" data-i18n-title="modal.close">
                        <i data-feather="x"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="search-input-container">
                        <input
                            type="text"
                            id="searchInput"
                            placeholder="Search in Arabic or English text..."
                            data-i18n-placeholder="search.placeholder"
                        />
                        <i data-feather="search" class="search-icon"></i>
                    </div>
                    <div class="search-filters">
                        <label class="search-filter">
                            <input
                                type="radio"
                                name="searchLanguage"
                                value="all"
                                checked
                            />
                            <span data-i18n="search.all">All Languages</span>
                        </label>
                        <label class="search-filter">
                            <input
                                type="radio"
                                name="searchLanguage"
                                value="arabic"
                            />
                            <span data-i18n="search.arabic">Arabic Only</span>
                        </label>
                        <label class="search-filter">
                            <input
                                type="radio"
                                name="searchLanguage"
                                value="english"
                            />
                            <span data-i18n="search.english">English Only</span>
                        </label>
                    </div>
                    <div id="searchResults" class="search-results">
                        <!-- Search results will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <script src="libs/feather.min.js"></script>
        <script src="localization.js"></script>
        <script src="gamification.js"></script>
        <script src="newtab.js"></script>
    </body>
</html>
